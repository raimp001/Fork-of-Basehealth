# ============================================================================
# BASEHEALTH ENVIRONMENT VARIABLES
# ============================================================================
# Copy these to your .env.local and fill in the values
# DO NOT commit actual values to version control

# ============================================================================
# DATABASE (Already in your .env.local - ensure sslmode=require)
# ============================================================================
# DATABASE_URL="postgresql://...?sslmode=require"

# ============================================================================
# PAYMENT PROVIDERS
# ============================================================================

# --- Stripe (Credit Cards, Apple Pay, Google Pay) ---
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# --- Coinbase / Base Blockchain ---
CDP_API_KEY_NAME=
CDP_API_KEY_SECRET=
NEXT_PUBLIC_COINBASE_CDP_API_KEY=
NEXT_PUBLIC_COINBASE_COMMERCE_API_KEY=
COINBASE_COMMERCE_WEBHOOK_SECRET=
NEXT_PUBLIC_PAYMENT_RECIPIENT_ADDRESS=0x...  # Your Base wallet address

# --- Solana Blockchain ---
NEXT_PUBLIC_SOLANA_NETWORK=devnet  # mainnet-beta for production
NEXT_PUBLIC_SOLANA_RPC_URL=https://api.devnet.solana.com
NEXT_PUBLIC_SOLANA_RECIPIENT_WALLET=  # Your Solana wallet address

# ============================================================================
# HIPAA ENCRYPTION (REQUIRED for PHI field encryption)
# ============================================================================

# Generate a secure encryption key with:
#   openssl rand -base64 32
# This key encrypts PHI at rest. Store it securely (use secrets manager in production)
HIPAA_ENCRYPTION_KEY=

# Optional: Custom salt for key derivation (change from default for added security)
HIPAA_ENCRYPTION_SALT=basehealth-hipaa-salt-v1

# Optional: Salt for searchable encrypted fields
HIPAA_SEARCH_SALT=basehealth-search-salt-v1

# ============================================================================
# HIPAA COMPLIANCE STATUS
# ============================================================================

# Set to 'true' ONLY after signing a Business Associate Agreement (BAA) with Neon
NEON_BAA_SIGNED=false

# Vercel BAA status (required if hosting PHI on Vercel)
VERCEL_BAA_SIGNED=false

# ============================================================================
# SESSION SECURITY
# ============================================================================

# Auto-logout timeout in minutes (HIPAA recommends 15-30 minutes max)
HIPAA_SESSION_TIMEOUT_MINUTES=15

# Require re-authentication before accessing PHI (recommended: true)
HIPAA_REQUIRE_REAUTH_FOR_PHI=true

# ============================================================================
# AUDIT LOGGING
# ============================================================================

# Enable PHI access logging (required for HIPAA compliance)
HIPAA_AUDIT_LOGGING_ENABLED=true

# Log retention in days (HIPAA requires 6 years = 2190 days minimum)
HIPAA_AUDIT_LOG_RETENTION_DAYS=2190

# ============================================================================
# DATA HANDLING
# ============================================================================

# Prevent PHI in URL parameters (recommended: true)
HIPAA_PREVENT_PHI_IN_URLS=true

# Auto-scrub PHI from logs (recommended: true)
HIPAA_AUTO_SCRUB_LOGS=true

# ============================================================================
# PRODUCTION CHECKLIST
# ============================================================================
# Before going live with PHI:
# [ ] Sign BAA with Neon (contact sales@neon.tech)
# [ ] Sign BAA with Vercel (if applicable)
# [ ] Generate and securely store HIPAA_ENCRYPTION_KEY
# [ ] Complete staff HIPAA training
# [ ] Document HIPAA policies and procedures
# [ ] Conduct security risk assessment
# [ ] Set up breach notification procedures
